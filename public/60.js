webpackJsonp([60],{"+/vL":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("card",{ref:"card",attrs:{title:e.title,collapsed:e.collapsed,nested:e.nested,controls:1},on:{shrink:function(t){e.$emit("shrink",t)},extend:function(t){e.$emit("extend",t)}}},[s("card-control",{attrs:{slot:"control-1"},slot:"control-1"},[s("div",{staticClass:"has-margin-top-small"},[s("input",{staticClass:"is-checkradio is-info",attrs:{type:"checkbox",id:"checkbox-"+e._uid,name:"checkbox-"+e._uid},on:{change:e.updateBelow}}),e._v(" "),s("label",{staticClass:"is-paddingless",attrs:{for:"checkbox-"+e._uid}})])]),e._v(" "),s("div",{staticClass:"has-padding-large"},[e._l(e.data,function(t,i){return"_items"!==i?s("checkbox-manager",{key:i,ref:"children",refInFor:!0,class:["is-rounded has-margin-top-small",{"raises-on-hover":t._items.length}],attrs:{nested:"",collapsed:"",title:i,data:t,"role-permissions":e.rolePermissions},on:{shrink:function(t){e.$refs.card.shrink(t)},extend:function(t){e.$refs.card.extend(t)},update:e.update}}):e._e()}),e._v(" "),e.data._items.length?s("content-manager",{ref:"content",attrs:{items:e.data._items,"role-permissions":e.rolePermissions},on:{checked:e.check,indeterminate:e.indeterminate,unchecked:e.uncheck}}):e._e()],2)],1)},staticRenderFns:[]}},5452:function(e,t,s){var i=s("VU/8")(s("B1eu"),s("gDx5"),!1,null,null,null);e.exports=i.exports},B1eu:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"CardControl"}},CwHN:function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"overlay is-overlay",class:{"is-opaque":!this.transparent}},[t("div",{staticClass:"overlay-loader",class:this.loaderSize,style:this.overlayColor})])},staticRenderFns:[]}},"Kx/m":function(e,t,s){var i=s("VU/8")(s("hqnm"),s("k40E"),!1,null,null,null);e.exports=i.exports},Ld6c:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("C/JF"),n=s("fhbW"),a=s("5452"),r=s.n(a),o=s("cjTo"),c=s.n(o);i.c.add(n._14,n._23,n.d),t.default={name:"Card",components:{CardControl:r.a,Overlay:c.a},props:{nested:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},icon:{type:[Object,Array,String],default:null},title:{type:String,default:null},search:{type:Boolean,default:!1},badge:{type:Number,default:null},refresh:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},removable:{type:Boolean,default:!1},controls:{type:Number,default:0},overlay:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1}},data:function(){return{query:null,expanded:!this.collapsed}},computed:{searchInput:function(){return this.search?this.$el.querySelector("input[type=search]"):null},header:function(){return this.icon||this.title||this.search||this.badge||this.refresh||!this.fixed||this.removable||this.controls},content:function(){return this.$el.querySelector(".card-content")},maxHeight:function(){return this.collapsed?{"max-height":0}:{}},overflowY:function(){return this.scrollable||!this.expanded?{"overflow-y":"hidden"}:{}},contentStyle:function(){return Object.assign({},this.maxHeight,this.overflowY)}},methods:{toggle:function(){this.$emit("toggle"),this.expanded?this.collapse():this.expand()},expand:function(){var e=this;this.nested&&this.$emit("extend",this.content.scrollHeight),this.$emit("expand"),this.content.style["max-height"]=this.content.scrollHeight+"px",setTimeout(function(){e.expanded=!0},400)},collapse:function(){var e=this;this.content.style["max-height"]||(this.content.style["max-height"]=this.content.scrollHeight+"px"),this.nested&&this.$emit("shrink",this.content.scrollHeight),this.$emit("collapse"),setTimeout(function(){e.content.style["max-height"]=0},1),this.expanded=!1},resize:function(){var e=this;if(this.expanded){var t=parseInt(this.content.style["max-height"],10);this.$nextTick(function(){e.nested&&e.$emit("extend",e.content.scrollHeight-t),e.content.style["max-height"]=e.content.scrollHeight+"px"})}},shrink:function(e){return this.content.style["max-height"]=parseInt(this.content.style["max-height"],10)-e+"px",this.$emit("shrink",e)},extend:function(e){return this.content.style["max-height"]=parseInt(this.content.style["max-height"],10)+e+"px",this.$emit("extend",e)},focus:function(){this.searchInput.focus()},clearQuery:function(){this.query=null},destroy:function(){this.$emit("remove"),this.$el.parentNode.removeChild(this.$el),this.$destroy()}}}},PwNK:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("SBvh"),n=s.n(i),a=s("5452"),r=s.n(a),o=s("xT8g"),c=s.n(o),l=s("cmIO");t.default={name:"CheckboxManager",components:{Card:n.a,CardControl:r.a,ContentManager:c.a},props:{title:{type:String,required:!0},data:{type:[Object],required:!0},rolePermissions:{type:Array,required:!0},nested:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1}},computed:{checkbox:function(){return this.$el.querySelector("input[type=checkbox]")}},methods:{check:function(){this.checkbox.indeterminate=!1,this.checkbox.checked=!0,this.$emit("update")},indeterminate:function(){this.checkbox.checked=!1,this.checkbox.indeterminate=!0,this.$emit("update")},uncheck:function(){this.checkbox.checked=!1,this.checkbox.indeterminate=!1,this.$emit("update")},update:function(){var e=this.$refs.children.filter(function(e){return e.checkbox.checked&&(!e.$refs.content||e.$refs.content.status===l.a)}).length;if(e!==this.$refs.children.length){var t=this.$refs.children.filter(function(e){return e.checkbox.indeterminate}).length;e||t?this.indeterminate():this.uncheck()}else this.check()},updateBelow:function(){this.updateContent(),this.updateChildren()},updateContent:function(){this.$refs.content&&(this.checkbox.checked?this.$refs.content.checkAll():this.$refs.content.uncheckAll())},updateChildren:function(){var e=this;this.$refs.children&&this.$refs.children.forEach(function(t){t.checkbox.checked=e.checkbox.checked,t.updateBelow()})}}}},SBvh:function(e,t,s){var i=s("VU/8")(s("Ld6c"),s("WTx9"),!1,function(e){s("ioto")},"data-v-7c420e07",null);e.exports=i.exports},WTx9:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"card"},[e.header?s("header",{staticClass:"card-header has-background-light"},[s("p",{staticClass:"card-header-title"},[e.icon?s("span",{staticClass:"icon is-small has-margin-right-small"},[s("fa",{attrs:{icon:e.icon}})],1):e._e(),e._v(" "),!e.fixed&&e.title?s("span",{staticClass:"is-clickable",on:{click:function(t){e.toggle()}}},[e._v("\n                "+e._s(e.title)+"\n            ")]):e.title?s("span",[e._v(e._s(e.title))]):e._e()]),e._v(" "),e.search?s("div",{staticClass:"has-vertically-centered-content"},[s("p",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],staticClass:"input is-small",attrs:{type:"search"},domProps:{value:e.query},on:{input:[function(t){t.target.composing||(e.query=t.target.value)},function(t){e.$emit("query-update",e.query)}]}}),e._v(" "),s("span",{staticClass:"icon is-small is-left"},[s("fa",{attrs:{icon:"search"}})],1)])]):e._e(),e._v(" "),e._l(e.controls,function(t){return e._t("control-"+t)}),e._v(" "),null!==e.badge?s("card-control",[s("span",{staticClass:"tag is-link"},[e._v("\n                "+e._s(e.badge)+"\n            ")])]):e._e(),e._v(" "),e.refresh?s("card-control",{on:{click:function(t){e.$emit("refresh")}}},[s("span",{staticClass:"icon is-small"},[s("fa",{attrs:{icon:"sync"}})],1)]):e._e(),e._v(" "),e.fixed?e._e():s("card-control",{on:{click:function(t){e.toggle()}}},[s("span",{staticClass:"icon angle",attrs:{"aria-hidden":!e.expanded}},[s("fa",{attrs:{icon:"angle-down"}})],1)]),e._v(" "),e.removable?s("card-control",{on:{click:function(t){e.destroy()}}},[s("a",{staticClass:"delete is-small"})]):e._e()],2):e._e(),e._v(" "),s("div",{staticClass:"card-content is-paddingless",style:e.contentStyle},[e._t("default")],2),e._v(" "),e._t("footer"),e._v(" "),e.overlay?s("overlay",{attrs:{size:"medium"}}):e._e()],2)},staticRenderFns:[]}},XpGZ:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("cmIO");t.default={name:"ContentManager",props:{items:{type:Array,required:!0},rolePermissions:{type:Array,required:!0}},data:function(){return{checkedIds:[]}},computed:{permissionIds:function(){return this.items.map(function(e){return e.id})},status:function(){return this.checkedIds.length===this.permissionIds.length?i.a:0===this.checkedIds.length?i.c:i.b}},watch:{status:{handler:function(){this.$emit(this.status)}},checkedIds:function(){this.removeGroupPermissions(),this.addCheckedPermissions()}},created:function(){this.init()},mounted:function(){this.checkIfEmpty()},methods:{init:function(){var e=this;this.checkedIds=this.permissionIds.filter(function(t){return e.rolePermissions.indexOf(t)>-1})},checkAll:function(){this.checkedIds=JSON.parse(JSON.stringify(this.permissionIds)),this.checkIfEmpty()},uncheckAll:function(){this.checkedIds=[],this.checkIfEmpty()},checkIfEmpty:function(){0===this.items.length&&this.$emit(this.status)},removeGroupPermissions:function(){var e=this;this.permissionIds.forEach(function(t){var s=e.rolePermissions.indexOf(t);-1!==s&&e.rolePermissions.splice(s,1)})},addCheckedPermissions:function(){var e=this;this.checkedIds.forEach(function(t){e.rolePermissions.push(t)})}}}},a8h7:function(e,t,s){(e.exports=s("FZ+f")(!1)).push([e.i,'.is-opaque[data-v-55e47718]{background:hsla(0,0%,100%,.4)}.overlay.is-overlay[data-v-55e47718]{display:-webkit-box;display:-ms-flexbox;display:flex}.overlay.is-overlay .overlay-loader[data-v-55e47718]{margin:auto;-webkit-animation:spinAround .5s infinite linear;animation:spinAround .5s infinite linear;border-radius:50%;content:""}.overlay.is-overlay .overlay-loader.is-small[data-v-55e47718]{height:1em;width:1em}.overlay.is-overlay .overlay-loader.is-medium[data-v-55e47718]{width:2em;height:2em}.overlay.is-overlay .overlay-loader.is-large[data-v-55e47718]{width:3em;height:3em}',""])},cjTo:function(e,t,s){var i=s("VU/8")(s("uUb2"),s("CwHN"),!1,function(e){s("w4rI")},"data-v-55e47718",null);e.exports=i.exports},cmIO:function(e,t,s){"use strict";s.d(t,"a",function(){return i}),s.d(t,"c",function(){return n}),s.d(t,"b",function(){return a});var i="checked",n="unchecked",a="indeterminate"},g4ZH:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wrapper"},e._l(e.items,function(t,i){return s("div",{key:i,staticClass:"level is-hoverable is-marginless has-padding-large is-mobile"},[s("div",{staticClass:"item has-padding-small"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedIds,expression:"checkedIds"}],staticClass:"is-checkradio is-info",attrs:{type:"checkbox",id:"checkbox-"+e._uid+"-"+t.id,name:"checkbox-"+e._uid+"-"+t.id},domProps:{value:t.id,checked:Array.isArray(e.checkedIds)?e._i(e.checkedIds,t.id)>-1:e.checkedIds},on:{change:function(s){var i=e.checkedIds,n=s.target,a=!!n.checked;if(Array.isArray(i)){var r=t.id,o=e._i(i,r);n.checked?o<0&&(e.checkedIds=i.concat([r])):o>-1&&(e.checkedIds=i.slice(0,o).concat(i.slice(o+1)))}else e.checkedIds=a}}}),e._v(" "),s("label",{attrs:{for:"checkbox-"+e._uid+"-"+t.id}},[e._v("\n                "+e._s(t.description)+"\n            ")])]),e._v(" "),s("div",{staticClass:"level-right"},[t.is_default?s("span",{staticClass:"tag is-small is-info is-bold has-margin-right-medium",domProps:{innerHTML:e._s(e.__("Default"))}}):e._e(),e._v(" "),t.menu?s("span",{staticClass:"tag is-small is-link is-bold has-margin-right-medium",domProps:{innerHTML:e._s(e.__("Menu"))}}):e._e(),e._v(" "),t.type?s("span",{staticClass:"tag is-small is-warning is-bold",domProps:{innerHTML:e._s(e.__("Write"))}}):e._e(),e._v(" "),t.type?e._e():s("span",{staticClass:"tag is-small is-success is-bold",domProps:{innerHTML:e._s(e.__("Read"))}})])])}))},staticRenderFns:[]}},gDx5:function(e,t){e.exports={render:function(){var e=this.$createElement;return(this._self._c||e)("a",this._g({staticClass:"card-header-icon"},this.$listeners),[this._t("default")],2)},staticRenderFns:[]}},hqnm:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("vKZO"),n=s.n(i);t.default={components:{CheckboxManager:n.a},data:function(){return{data:null}},created:function(){this.fetch()},methods:{fetch:function(){var e=this;axios.get(route("system.roles.getPermissions",this.$route.params.role)).then(function(t){var s=t.data;return e.data=s}).catch(function(t){return e.handleError(t)})},update:function(){var e=this;axios.post(route("system.roles.setPermissions",this.$route.params.role),{rolePermissions:this.data.rolePermissions}).then(function(t){var s=t.data;return e.$toastr.success(s.message)}).catch(function(t){return e.handleError(t)})}}}},ioto:function(e,t,s){var i=s("kCUM");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);s("rjj0")("54f1dfad",i,!0,{})},k40E:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"columns is-centered"},[s("div",{staticClass:"column is-half is-three-fifths-desktop is-full-touch"},[e.data?s("div",{staticClass:"animated fadeIn"},[s("checkbox-manager",{staticClass:"is-rounded has-margin-top-large",attrs:{title:e.data.role.display_name+"'s "+e.__("Permissions"),"role-permissions":e.data.rolePermissions,data:e.data.permissions}}),e._v(" "),s("button",{staticClass:"button is-success has-margin-top-large is-pulled-right",attrs:{disabled:!e.canAccess("system.roles.setPermissions")},on:{click:e.update}},[e._v("\n                "+e._s(e.__("Update"))+"\n            ")]),e._v(" "),s("div",{staticClass:"is-clearfix"})],1):e._e()])])},staticRenderFns:[]}},kCUM:function(e,t,s){(e.exports=s("FZ+f")(!1)).push([e.i,".card[data-v-7c420e07]{position:relative}.card.is-rounded .card-header[data-v-7c420e07],.card.is-rounded[data-v-7c420e07]{border-radius:.5em}.card .card-header .card-header-title[data-v-7c420e07]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.card .card-header .icon.angle[aria-hidden=true][data-v-7c420e07]{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.card .card-header .icon.angle[data-v-7c420e07]{-webkit-transition:-webkit-transform .3s ease;transition:-webkit-transform .3s ease;transition:transform .3s ease;transition:transform .3s ease,-webkit-transform .3s ease}.card .card-content[data-v-7c420e07]{-webkit-transition:max-height .4s ease;transition:max-height .4s ease}",""])},m4eA:function(e,t,s){(e.exports=s("FZ+f")(!1)).push([e.i,".level.is-hoverable[data-v-694546e0]:hover{background:#f5f5f5}.level.is-hoverable .item[data-v-694546e0]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}",""])},sIQn:function(e,t,s){var i=s("m4eA");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);s("rjj0")("3e220414",i,!0,{})},uUb2:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Overlay",props:{color:{type:String,default:"#f44336"},size:{type:String,default:"small",validator:function(e){return["small","medium","large"].includes(e)}},transparent:{type:Boolean,default:!1}},data:function(){return{overlayColor:{border:"2px solid "+this.color,"border-right-color":"transparent","border-top-color":"transparent"}}},computed:{loaderSize:function(){return"is-"+this.size}}}},vKZO:function(e,t,s){var i=s("VU/8")(s("PwNK"),s("+/vL"),!1,null,null,null);e.exports=i.exports},w4rI:function(e,t,s){var i=s("a8h7");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);s("rjj0")("48f9728e",i,!0,{})},xT8g:function(e,t,s){var i=s("VU/8")(s("XpGZ"),s("g4ZH"),!1,function(e){s("sIQn")},"data-v-694546e0",null);e.exports=i.exports}});
//# sourceMappingURL=60.js.map